---
import { MenuItem } from "@features/layout/menuMobile/components/MenuItem";
---

<script>
  import gsap from "gsap";

  document.addEventListener("astro:page-load", () => {
    const menu = document.querySelector("#menu-mobile");
    if (!menu) return;

    gsap.set(menu, {
      translateY: "100%",
    });
  });
</script>

<div class="wrapper-menu-mobile">
  <nav
    aria-hidden="true"
    id="menu-mobile"
    class="menu-mobile"
    data-testid="menu-mobile"
  >
    <ul class="list">
      <MenuItem href="/" label="Accueil" />
      <MenuItem href="/" label="Projets" />
      <MenuItem href="/" label="Contact" />
      <MenuItem href="/" label="A propos" />
    </ul>
  </nav>
</div>

<style lang="scss">
  .wrapper-menu-mobile {
    position: fixed;
    z-index: 900;
    top: 0;
    left: 0;
    overflow: hidden;
    height: 100%;
    width: 100%;
    pointer-events: none;
  }

  .list {
    position: relative;
    bottom: 1vw;

    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .menu-mobile {
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    pointer-events: none;
    position: fixed;
    background-color: var(--color-absolute-zero);
    width: 100%;
    height: 100%;

    &.open {
      pointer-events: initial;
    }
  }
</style>
